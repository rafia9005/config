
# -------------------------------------
# CORE SETTINGS
# -------------------------------------

backend = "glx";  # Menggunakan GLX sebagai backend untuk komposit
vsync = true;     # Menyinkronkan frame rate untuk menghindari tearing
refresh-rate = 0; # Secara otomatis mendeteksi refresh rate

# -------------------------------------
# ROUNDED CORNERS
# -------------------------------------

corner-radius = 3; 
rounded-corners = true;  # Mengaktifkan sudut melengkung
detect-rounded-corners = true;  # Deteksi sudut melengkung otomatis

# Mengatur pengecualian untuk window tertentu yang tidak perlu rounded corners
rounded-corners-exclude = [
  "window_type = 'dock'",
  "window_type = 'desktop'",
  "class_g = 'Polybar'",  # Polybar tidak membutuhkan rounded corners
  "_NET_WM_STATE@:32a *= '_NET_WM_STATE_FULLSCREEN'"  # Window fullscreen tidak memiliki rounded corners
];

# -------------------------------------
# BLUR SETTINGS
# -------------------------------------

blur-method = "dual_kawase";  # Metode blur yang digunakan
blur-strength = 8;           # Kekuatan blur
blur-background = true;      # Terapkan blur pada latar belakang window transparan
blur-background-frame = true; # Terapkan blur pada bingkai window
blur-background-fixed = true; # Menjaga blur tetap pada frame, meski background berubah

# -------------------------------------
# OPACITY SETTINGS
# -------------------------------------

inactive-opacity = 0.88;  # Opasitas window yang tidak aktif
active-opacity = 0.93;    # Opasitas window yang aktif
frame-opacity = 0.95;     # Opasitas untuk bingkai window

# Aturan Opasitas khusus untuk fullscreen window
opacity-rule = [
  "100: _NET_WM_STATE@:32a *= '_NET_WM_STATE_FULLSCREEN'"
];

# -------------------------------------
# ANIMATIONS SETTINGS
# -------------------------------------

animations = true;           # Mengaktifkan animasi secara global
animation-stiffness = 140;   # Kekakuan animasi (lebih tinggi, lebih cepat dan lebih kaku)
animation-dampening = 18;    # Damping untuk transisi halus
animation-clamping = true;   # Mengunci animasi agar tidak melampaui batas

# Jenis animasi untuk window
animation-for-open-window = "zoom";  # Animasi untuk membuka window
animation-for-close-window = "slide-down";  # Animasi untuk menutup window
animation-for-unmap-window = "fade";  # Animasi untuk menghilangkan window

# Mengaktifkan animasi untuk membuka/menutup dan pergerakan
animate-open-close = true;
animate-move-resize = true; # PENTING untuk animasi geser desktop

# -------------------------------------
# FADING SETTINGS
# -------------------------------------

fading = true;            # Mengaktifkan fading untuk transisi yang halus
fade-in-step = 0.04;      # Kecepatan fading-in
fade-out-step = 0.04;     # Kecepatan fading-out
fade-delta = 6;          # Durasi fading

# Aturan pengecualian untuk fading
fade-exclude = [
  "window_type = 'dock'"   # Dock tidak perlu fading
];

# -------------------------------------
# WINDOW BEHAVIOR & OPTIMIZATION
# -------------------------------------

detect-transient = true;  # Mendeteksi window sementara
detect-client-leader = true; # Mendeteksi pemimpin client (untuk manajemen jendela)
unredir-if-possible = false;  # Menonaktifkan unredirect, agar Picom selalu mengelola semua window
use-damage = true;        # Menggunakan damage tracking untuk optimisasi
mark-wmwin-focused = true; # Menandai jendela WM yang fokus
mark-ovredir-focused = true; # Menandai jendela overlay yang fokus

