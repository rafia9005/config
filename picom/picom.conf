# -------------------------------------
# CORE SETTINGS
# -------------------------------------

# Backend dan VSync
backend = "glx";
vsync = true;
refresh-rate = 0; # Set ke 0 agar Picom mendeteksi refresh rate secara otomatis

# -------------------------------------
# ROUNDED CORNERS
# -------------------------------------

corner-radius = 3;
rounded-corners = true;

# Aturan pengecualian untuk Rounded Corners
rounded-corners-exclude = [
  "window_type = 'dock'",
  "window_type = 'desktop'",
  "class_g = 'Polybar'",
  "_NET_WM_STATE@:32a *= '_NET_WM_STATE_FULLSCREEN'"
];

detect-rounded-corners = true;

# -------------------------------------
# BLUR (KEBURAMAN)
# -------------------------------------

blur-method = "dual_kawase"; # Metode blur yang dipilih
blur-strength = 8;
blur-background = true; # Terapkan blur pada latar belakang window transparan
blur-background-frame = true; # Terapkan blur pada bingkai window
blur-background-fixed = true; # Pertahankan blur pada frame, tidak peduli apa yang ada di belakangnya

# -------------------------------------
# OPACITY (OPASITAS)
# -------------------------------------

inactive-opacity = 0.88;
active-opacity = 0.93;
frame-opacity = 0.95;

# Aturan Opasitas
opacity-rule = [
  # Set Fullscreen window menjadi 100% opasitas
  "100: _NET_WM_STATE@:32a *= '_NET_WM_STATE_FULLSCREEN'"
];

# -------------------------------------
# ANIMATIONS (ANIMASI)
# -------------------------------------

animations = true;
# Pengaturan Pegas (Spring) untuk kontrol gerakan yang halus
animation-stiffness = 140; # Semakin tinggi semakin kaku/cepat (direkomendasikan untuk transisi desktop)
animation-dampening = 18;
animation-clamping = true;

# Jenis animasi untuk event window tertentu
animation-for-open-window = "zoom";
animation-for-close-window = "slide-down";
animation-for-unmap-window = "fade";

# Mengaktifkan/menonaktifkan jenis animasi
animate-open-close = true;
animate-move-resize = true; # PENTING untuk animasi GESER DESKTOP

# -------------------------------------
# FADING (PUDAR)
# -------------------------------------

fading = true;
fade-in-step = 0.04;
fade-out-step = 0.04;
fade-delta = 6;

# Pengecualian Fade
fade-exclude = [
  "class_g = 'Polybar'",
  "window_type = 'dock'"
];

# -------------------------------------
# WINDOW BEHAVIOR & OPTIMIZATION
# -------------------------------------

detect-transient = true;
detect-client-leader = true;

unredir-if-possible = false; # Biasanya di-set false agar Picom selalu mengelola semua window
use-damage = true; # Pengoptimalan performa
mark-wmwin-focused = true;
mark-ovredir-focused = true;
